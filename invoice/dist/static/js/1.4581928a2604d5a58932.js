webpackJsonp([1],{KU6s:function(a,i){},Vn7x:function(a,i){a.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAqCAYAAACHgLrMAAAAAXNSR0IArs4c6QAAAqxJREFUSA2VVc1OFEEQ7mqGPcELEGNMvHgzIfgUJvoCHD2boASOYAQTuXhwjyZcvJs12XcxxuVgyL7AchF3uv2+qq6ZnnU5UGG2aqq/+uqnuwc5vDpf5CBzkTyTHKYyaiYXD46vwx0ib2fnOQT8qUgIElqYlxtNc3Lx8HheFjoVcyYYQD60c9gIKb9Kt8sfb64+vOiQxYiqFViyKAHj8rbk9O3w19nrOkgDmEUfrHSaqBxilvDpqMoUtQxh7aUk10qCmJRj2+avR78/7pADGbz20ouWBB/83l/KaXv55+87BsjBz/eleL6uSiHhFEXazTB61NQQ8jrE/PRQoDG9pdy+bLQH8yqY5p0pc3yOpgkhU8VG1xrBmB+XsSYkSgpxzRdr2nQZ905Tp8cIrVxqCksvPnOErUEP6hwwsEw4sHsUbC92sgK4Ta02flybEUKjHCXIbeMzRkFdZKbQ1qYJMDBuBmxtUKnNJphCf+OTMNcQ4OzUGoBMGiA8cGskpYQTIYHaxY6GN671YKnEO41rLmjAoCwPLnFc8wDtgQPwitinXweW4LGuGVkycNmkDKd/qRngHUyJqcnWlUAbDJ4BnyHL4ACsd+Da9nUG6lnq2yKsFs/X5bAMPeR/wGqRyECXMXCTdIxlbG5TU1jafe+D9TBo1ciUcfWn2zgfzboSdDM9UuRmcDRYowYVgINLCzwF83vdB8xmhp0mXV+4T4RezVg037FfU/sY822N6BcDfmo8bYxxoiVpAk/ieoUAwMvPT0+vbR+8K4KqAL2iWINe5Lh5wmUtiTus1xRg1wy0iUmSKPvj3VP9fzcYqyaosoGGl/lgvHv2nWuUch/sAK9MZYFs++O9HsyAwT7QgaAWzF9iM3oyfjYEc72RLDe4VnO0NosSpnE0mnAaXFwn/wDH742G2TKOVQAAAABJRU5ErkJggg=="},unKj:function(a,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=t("aMQM"),n=t("wSez"),o={data:function(){return{img:t("Vn7x"),popupVisible:!1,apiData:{page:"0",size:"10"},list:[{invoiceType:1,amount:200},{invoiceType:2,amount:300},{invoiceType:1,amount:400}],pageData:[],infiniteScrollDisabled:!1,currentPage:0}},mounted:function(){},deactivated:function(){this.$indicator.close(),this.pageData=[],this.apiData.page=0,console.log("停止无限加载",this.infiniteScrollDisabled=!0)},activated:function(){console.log("activated"),this.pageData=[],this.apiData.page=0,this.infiniteScrollDisabled=!1},methods:{checkInfo:function(){console.log(this.popupVisible=!this.popupVisible)},loadHistoryList:function(){},loadMore:function(){var a=this;console.log("loadMore"),this.infiniteScrollDisabled=!0,this.$indicator.open({text:"加载中...",spinnerType:"fading-circle"}),this.gData.fakeData?(console.log("fakeDataMode!"),this.axios.get("/static/fakeInvoiceHistory.json?page="+this.apiData.page,{}).then(function(i){a.pageData.push.apply(a.pageData,i.data.data),a.apiData.page=Number(a.apiData.page)+1}).catch(function(a){console.log(a)})):this.axios.post(this.gData.api+"/invioceController/getInvoicedRecordList?token="+this.gData.token+"&page="+this.apiData.page+"&size="+this.apiData.size,{}).then(function(i){console.log(i.data),a.$indicator.close(),"01"===i.data.respcod?(a.pageData.push.apply(a.pageData,i.data.data),(i.data.data.length?i.data.data.length:"0")<Number(a.apiData.size)?(Object(n.Toast)({message:"已是最后一页",duration:1500}),a.infiniteScrollDisabled=!0):(a.apiData.page=Number(a.apiData.page)+1,setTimeout(function(){"invoiceHistory"===a.$route.name&&(a.infiniteScrollDisabled=!1)},500))):Object(n.Toast)({message:i.data.respmsg,duration:1e3})}).catch(function(i){console.log(i),a.infiniteScrollDisabled=!0,a.$indicator.close(),Object(n.Toast)({message:i,duration:1500})})},pickHistory:function(a){console.log(a)}},components:{invoiceHeader:e.a}},s={render:function(){var a=this,i=a.$createElement,t=a._self._c||i;return t("div",[t("invoiceHeader",{attrs:{titleName:a.$t("main.invoiceHistory")}}),a._v(" "),t("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:a.loadMore,expression:"loadMore"}],staticClass:"historyCon",attrs:{"infinite-scroll-disabled":"infiniteScrollDisabled","infinite-scroll-distance":"10"}},[a.gData.debug?t("div",{staticStyle:{"font-size":"16px"}},[a._v(a._s(a.pageData))]):a._e(),a._v(" "),a._l(a.pageData,function(i,e){return t("div",{key:e,staticClass:"historyItem",style:{backgroundImage:"url("+a.img+")"},on:{click:function(t){return a.pickHistory(i)}}},[t("router-link",{attrs:{to:{path:"/"+(i.invoiceType,"digitalDetail")+"?id="+i.invoiceNo}}},[t("mt-cell",{attrs:{title:(1===Number(i.invoiceType)?"电子发票 ":"纸质发票 ")+i.amount+".00 元",label:a._f("stampToDate")(i.invoiceDate),"is-link":""}},[t("span",[a._v("已开票")])])],1)],1)}),a._v(" "),0===a.pageData.length?t("div",{staticClass:"ticketCon"},[t("div",{staticClass:"noMore"},[a._v("暂无开票记录")])]):a._e()],2)],1)},staticRenderFns:[]};var c=t("C7Lr")(o,s,!1,function(a){t("KU6s")},"data-v-dcd0179a",null);i.default=c.exports}});